(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,84632,e=>{"use strict";var s=e.i(43476),r=e.i(92721),t=e.i(52092),a=e.i(25822),l=e.i(83792);let o=(0,e.i(75254).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function i({email:e,onClose:r}){let t=e.htmlBody||"",i=e.body||"",d=(0,a.sanitizeEmailHTML)(t||i),n=(0,a.stripHTMLTags)(t||i).trim(),c=d.trim().length>0,m=(0,l.formatSenderName)(e.from),x=e.from,p=(0,l.formatEmailDateTime)(e.timestamp);return(0,s.jsxs)("div",{className:"flex flex-col h-full min-h-0 bg-white rounded-2xl shadow-lg animate-slideUp overflow-hidden border border-gray-200",children:[(0,s.jsxs)("div",{className:"border-b border-gray-200 px-6 py-5 flex items-center justify-between bg-white",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 break-words",children:e.subject||(0,s.jsx)("span",{className:"text-gray-400 text-base",children:"(No subject)"})})}),r&&(0,s.jsxs)("button",{onClick:r,className:"group ml-4 inline-flex items-center justify-center gap-2 rounded-full bg-white px-4 py-2 text-gray-900 font-black shadow-sm border border-gray-200 hover:shadow-md transition transform hover:scale-105 hover:text-red-600 hover:border-red-600","aria-label":"Close",children:[(0,s.jsx)(o,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"text-xs font-black hidden sm:inline",children:"Close"})]})]}),(0,s.jsxs)("div",{className:"border-b border-gray-200 px-6 py-5 bg-gray-50",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"h-14 w-14 rounded-lg bg-gray-900 flex items-center justify-center shadow-md flex-shrink-0",children:(0,s.jsx)("span",{className:"text-lg font-bold text-white",children:m.charAt(0).toUpperCase()})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"font-bold text-gray-900 truncate text-lg",children:m}),(0,s.jsx)("p",{className:"text-sm text-gray-600 truncate font-mono",children:x})]})]}),(0,s.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200 flex items-center justify-between",children:[(0,s.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:["ðŸ“… ",p]}),(0,s.jsxs)("span",{className:"inline-flex items-center rounded-full bg-gray-200 px-3 py-1 text-xs font-semibold text-gray-800 border border-gray-300",children:[(0,s.jsxs)("span",{className:"relative flex h-2 w-2 mr-2",children:[(0,s.jsx)("span",{className:"absolute inline-flex h-full w-full rounded-full bg-gray-400 opacity-75 animate-ping"}),(0,s.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-gray-600"})]}),"Received"]})]})]}),(0,s.jsx)("div",{className:"flex-1 min-h-0 overflow-auto px-6 py-8",children:c?(0,s.jsx)("div",{className:"prose prose-sm max-w-none text-gray-900  prose-p:text-gray-700 prose-p:leading-relaxed prose-a:text-gray-900 prose-a:hover:text-gray-700 prose-a:underline prose-strong:text-gray-900 prose-strong:font-bold prose-em:text-gray-700 prose-img:rounded-lg prose-img:shadow-md prose-code:bg-gray-100 prose-code:text-gray-800 prose-code:rounded prose-code:px-2 prose-code:py-1 prose-blockquote:border-l-4 prose-blockquote:border-blue-500 prose-blockquote:bg-blue-50 prose-blockquote:rounded prose-blockquote:px-4 prose-blockquote:py-2 prose-li:marker:text-blue-600",dangerouslySetInnerHTML:{__html:d}}):(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-sm text-gray-700",children:n||"No readable content."})}),(0,s.jsx)("div",{className:"border-t border-gray-200 px-6 py-4 bg-gray-50",children:(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)("div",{className:"w-1 h-1 rounded-full bg-gray-400"}),(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"â° This email will be deleted in 24 hours"}),(0,s.jsx)("div",{className:"w-1 h-1 rounded-full bg-gray-400"})]})})]})}function d(){let{isEmailViewerOpen:e,closeEmailViewer:a}=(0,r.useUiStore)(),{getSelectedEmail:l}=(0,t.useInboxStore)(),o=l();return e&&o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 z-40 bg-black/50 transition-opacity",onClick:a}),(0,s.jsx)("div",{className:"fixed inset-4 sm:inset-auto sm:left-1/2 sm:top-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-2xl z-50",children:(0,s.jsx)("div",{className:"h-full sm:h-[90vh] sm:max-h-[90vh] overflow-hidden",children:(0,s.jsx)(i,{email:o,onClose:a})})})]}):null}e.s(["EmailViewerModal",()=>d],84632)},51346,e=>{e.n(e.i(84632))}]);